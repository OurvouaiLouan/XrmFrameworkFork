<Project>

	<ItemGroup>
		<ProjectReference Include="..\XrmFramework.WebresourcesAnalyzers\XrmFramework.Analyzers.csproj" OutputItemType="Analyzer" ReferenceOutputAssembly="false" />
	</ItemGroup>

    <ItemGroup>
        <Compile Include="obj\LoggedServices\*.cs" />
    </ItemGroup>

	<PropertyGroup>
		<EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>
		<CompilerGeneratedFilesOutputPath>obj\GeneratedJson</CompilerGeneratedFilesOutputPath>
		<JSOutputFolderPath>DefinitionJS</JSOutputFolderPath>
	</PropertyGroup>

	<ItemGroup>
		<Content Remove="obj\**" />
		<EmbeddedResource Remove="obj\**" />
		<None Remove="..\JsonTests\**\*.table" />
		<None Remove="obj\**" />
		<AdditionalFiles Include="..\JsonTests\**\*.table" Exclude="bin/**;obj/**" />

		<Compile Remove="$(CompilerGeneratedFilesOutputPath)/**/*.cs" />

		<Compile Remove="**/$(JSOutputFolderPath)" />

		<Compile Remove="obj\**" />
		<None Include="**/$(JSOutputFolderPath)" />


		<None Remove="$(CompilerGeneratedFilesOutputPath)\**" />
		<None Include="$(JSOutputFolderPath)\*.js"/>


		<UsingTask TaskName="WebresourcesAnalyzers.PostBuildTask" AssemblyFile="../XrmFramework.WebresourcesAnalyzers/bin/Release/netstandard2.0/XrmFramework.WebresourcesAnalyzers.dll" />

		<Target Name="Convert JsonCs to Js" AfterTargets="Build">
			<PostBuildTask FilesToConvertPath="$(MSBuildThisFileDirectory)$(CompilerGeneratedFilesOutputPath)\XrmFramework.Analyzers\XrmFramework.Analyzers.Generators.TableJsonDefinitionGenerator\" ConvertedFilesPath="$(MSBuildThisFileDirectory)$(JSOutputFolderPath)">

			</PostBuildTask>
		</Target>
	</ItemGroup>


</Project>