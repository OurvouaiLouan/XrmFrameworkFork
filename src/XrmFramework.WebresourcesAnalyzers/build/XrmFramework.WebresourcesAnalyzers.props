<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

	<PropertyGroup>
		<EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>
		<CompilerGeneratedFilesOutputPath>obj/GeneratedFiles</CompilerGeneratedFilesOutputPath>
		
		<JSOutputFolderPath Condition="'$(JSOutputFolderPath)'== ''">Definitions</JSOutputFolderPath>
	</PropertyGroup>

	<ItemGroup>
		<AdditionalFiles Include="$(RootFolder)/$(XrmFrameworkCoreProjectName)/**/*.table"
						 Exclude="bin/**;obj/**" />
	</ItemGroup>

	<UsingTask TaskName="WebresourcesAnalyzers.Tasks.MoveGeneratedJson"
				AssemblyFile="$(PkgXrmFramework_WebresourcesAnalyzers)/lib/tasks/XrmFramework.WebresourcesAnalyzers.Tasks.dll" />

	<Target Name="Convert_JsonCs_to_Js"
			AfterTargets="Build" >
		<MoveGeneratedJson FilesToConvertPath="$(MSBuildProjectDirectory)/$(CompilerGeneratedFilesOutputPath)/XrmFramework.WebresourcesAnalyzers/XrmFramework.WebresourcesAnalyzers.Generators.TableJsonDefinitionGenerator"
					   ConvertedFilesPath="$(MSBuildProjectDirectory)/$(JSOutputFolderPath)"/>
	</Target>

</Project>